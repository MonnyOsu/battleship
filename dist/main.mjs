(()=>{"use strict";const t=()=>[{id:1,name:"Aircraft Carrier",length:5,hitPoints:5,coordinates:[],hit(){this.hitPoints--},isSunk(){return 0===this.hitPoints}},{id:2,name:"Battleship",length:4,hitPoints:4,coordinates:[],hit(){this.hitPoints--},isSunk(){return 0===this.hitPoints}},{id:3,name:"Cruiser",length:3,hitPoints:3,coordinates:[],hit(){this.hitPoints--},isSunk(){return 0===this.hitPoints}},{id:4,name:"Submarine One",length:2,hitPoints:2,coordinates:[],hit(){this.hitPoints--},isSunk(){return 0===this.hitPoints}},{id:5,name:"Submarine Two",length:2,hitPoints:2,coordinates:[],hit(){this.hitPoints--},isSunk(){return 0===this.hitPoints}}],e=()=>{const t=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],e=[],n=[],a=[];let i=0;function o(e,n){let a=!1;return+n+10*(e.length-1)<=100&&function(e,n){let a=0,i=n-1;for(;i<=+n+10*(e.length-1);)"x"!==t[i]&&a++,i+=10;return e.length<=a}(e,n)&&(a=!0),a}function s(e,n){let a=!1,i=10-(e.length-1);return+n<=i?a=!0:+n>i&&+n<=10||"0"===n.slice(1)||"00"===n.slice(1)?a=!1:n.slice(1)<=i&&function(e,n){let a=0,i=n-1;for(;i<+n+e.length-1;)"x"!==t[i]&&a++,i++;return e.length<=a}(e,n)&&(a=!0),a}function r(){let t=!1;return 1===i&&(t=!0),t}return{gameboard:t,placeShip:function(n,a,i){if(i&&s(n,a)){let i=a-1;for(;i<+a+n.length-1;)n.coordinates.push(t[i]),t[i]="x",i++;e.push(n)}if(!i&&o(n,a)){let i=a-1;for(;i<=+a+10*(n.length-1);)n.coordinates.push(t[i]),t[i]="x",i+=10;e.push(n)}},placeCpuShips:function(n){let a=0;for(;a<n.length;){let i=""+(Math.floor(100*Math.random())+1),r=Math.random()<.5;if(r&&s(n[a],i)){let o=i-1;for(;o<+i+n[a].length-1;)n[a].coordinates.push(t[o]),t[o]="x",o++;e.push(n[a]),a++}if(!r&&o(n[a],i)){let o=i-1;for(;o<=+i+10*(n[a].length-1);)n[a].coordinates.push(t[o]),t[o]="x",o+=10;e.push(n[a]),a++}}},receiveAttack:function(t){!function(t){for(let n of e){if(n.coordinates.includes(t)){if(a.includes(t))return;n.hit(),a.push(t),console.log("hit"),n.isSunk()&&i++}if(n.coordinates.includes(t))break}}(t),function(t){for(let i of e)if(!i.coordinates.includes(t)){if(n.includes(t))return;if(a.includes(t))return;console.log("miss"),n.push(t)}}(t),i>0&&console.log("ship has been sunk"),console.log(i),r()},isGameClear:r,cpuAttackGenerator:function(){let t=""+(Math.floor(100*Math.random())+1);return console.log(t),t},shipLocations:e,missedAttacks:n,hitAttacks:a,sunkShips:i}},n=document.querySelector(".player-docks"),a=document.querySelector(".ship-name"),i=document.querySelector("[data-player-gameboard]"),o=document.querySelector("[data-cpu-gameboard]");function s(t,e){n.removeChild(n.lastChild);let i=document.createElement("div");i.dataset.ship=t[e].name,i.dataset.length=t[e].length,i.classList.add("ship-wrapper"),i.classList.add("draggable"),i.setAttribute("draggable",!0);for(let n=0;n<t[e].length;n++){let t=document.createElement("span");t.classList.add("ship-span"),i.appendChild(t)}a.textContent=t[e].name,n.appendChild(i)}function r(t,e){t.forEach((t=>{e.missedAttacks.includes(t.dataset.coordinate)&&(t.classList.add("missed-attack"),t.textContent=".")}))}function d(t,e){t.forEach((t=>{e.hitAttacks.includes(t.dataset.coordinate)&&(t.classList.add("hit-attack"),t.textContent="X")}))}const c=document.querySelector(".rotate-button"),l=t(),h=t(),u=e(),g=e();let p=0,m=!0;!function(t){for(let e=0;e<=t.gameboard.length-1;e++){let n=document.createElement("div");n.dataset.coordinate=t.gameboard[e],n.classList.add("gameboard-div"),n.classList.add("player-gameboard-div"),i.appendChild(n)}}(u),function(t){for(let e=0;e<=t.gameboard.length-1;e++){let n=document.createElement("div");n.dataset.coordinate=t.gameboard[e],n.classList.add("gameboard-div"),n.classList.add("cpu-gameboard-div"),o.appendChild(n)}}(g),s(l,p);const f=document.querySelectorAll(".player-gameboard-div"),v=document.querySelectorAll(".cpu-gameboard-div"),L=document.querySelectorAll(".draggable");c.addEventListener("click",(()=>{var t;t=document.querySelector(".ship-wrapper"),m?(t.style.flexDirection="column",m=!1):(t.style.flexDirection="row",m=!0)})),L.forEach((t=>{t.addEventListener("dragstart",(()=>{t.classList.add("dragging")})),t.addEventListener("dragend",(()=>{t.classList.remove("dragging")}))})),f.forEach((t=>{t.addEventListener("dragover",(t=>{t.preventDefault(),t.target.classList.add("grid-hover")})),t.addEventListener("dragleave",(t=>{t.preventDefault(),t.target.classList.remove("grid-hover")})),t.addEventListener("drop",(t=>{t.preventDefault(),t.target.classList.remove("grid-hover");const e=t.target.dataset.coordinate;var n;u.placeShip(l[p],e,m),n=u,f.forEach((t=>{n.shipLocations.forEach((e=>{e.coordinates.includes(t.dataset.coordinate)&&t.classList.add("active-ship")}))})),u.shipLocations.length>p&&p++,p<=4&&(m=!0,s(l,p)),5===p&&(g.placeCpuShips(h),console.log(g),document.querySelector(".player-docks").style.display="none",document.querySelector("[data-cpu-gameboard]").style.display="grid")}))})),v.forEach((t=>{t.addEventListener("click",(t=>{let e=t.target.dataset.coordinate;g.receiveAttack(e),console.log(g),u.receiveAttack(u.cpuAttackGenerator()),console.log(u),d(f,u),d(v,g),r(v,g),r(f,u)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aXBGYWN0b3J5Lm1qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZEZhY3RvcnkubWpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZG9tRnVuY3Rpb25zLm1qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIgZXhwb3J0IGNvbnN0IHNoaXBGYWN0b3J5ID0gKCkgPT4ge1xuICBjb25zdCBzaGlwRmxlZXQgPSBbXG4gICAge1xuICAgICAgaWQ6IDEsXG4gICAgICBuYW1lOiBcIkFpcmNyYWZ0IENhcnJpZXJcIixcbiAgICAgIGxlbmd0aDogNSxcbiAgICAgIGhpdFBvaW50czogNSxcbiAgICAgIGNvb3JkaW5hdGVzOiBbXSxcbiAgICAgIGhpdCgpIHtcbiAgICAgICAgdGhpcy5oaXRQb2ludHMtLTtcbiAgICAgIH0sXG4gICAgICBpc1N1bmsoKSB7XG4gICAgICAgIGlmICh0aGlzLmhpdFBvaW50cyA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAyLFxuICAgICAgbmFtZTogXCJCYXR0bGVzaGlwXCIsXG4gICAgICBsZW5ndGg6IDQsXG4gICAgICBoaXRQb2ludHM6IDQsXG4gICAgICBjb29yZGluYXRlczogW10sXG4gICAgICBoaXQoKSB7XG4gICAgICAgIHRoaXMuaGl0UG9pbnRzLS07XG4gICAgICB9LFxuICAgICAgaXNTdW5rKCkge1xuICAgICAgICBpZiAodGhpcy5oaXRQb2ludHMgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogMyxcbiAgICAgIG5hbWU6IFwiQ3J1aXNlclwiLFxuICAgICAgbGVuZ3RoOiAzLFxuICAgICAgaGl0UG9pbnRzOiAzLFxuICAgICAgY29vcmRpbmF0ZXM6IFtdLFxuICAgICAgaGl0KCkge1xuICAgICAgICB0aGlzLmhpdFBvaW50cy0tO1xuICAgICAgfSxcbiAgICAgIGlzU3VuaygpIHtcbiAgICAgICAgaWYgKHRoaXMuaGl0UG9pbnRzID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IDQsXG4gICAgICBuYW1lOiBcIlN1Ym1hcmluZSBPbmVcIixcbiAgICAgIGxlbmd0aDogMixcbiAgICAgIGhpdFBvaW50czogMixcbiAgICAgIGNvb3JkaW5hdGVzOiBbXSxcbiAgICAgIGhpdCgpIHtcbiAgICAgICAgdGhpcy5oaXRQb2ludHMtLTtcbiAgICAgIH0sXG4gICAgICBpc1N1bmsoKSB7XG4gICAgICAgIGlmICh0aGlzLmhpdFBvaW50cyA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiA1LFxuICAgICAgbmFtZTogXCJTdWJtYXJpbmUgVHdvXCIsXG4gICAgICBsZW5ndGg6IDIsXG4gICAgICBoaXRQb2ludHM6IDIsXG4gICAgICBjb29yZGluYXRlczogW10sXG4gICAgICBoaXQoKSB7XG4gICAgICAgIHRoaXMuaGl0UG9pbnRzLS07XG4gICAgICB9LFxuICAgICAgaXNTdW5rKCkge1xuICAgICAgICBpZiAodGhpcy5oaXRQb2ludHMgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSxcbiAgXTtcbiAgcmV0dXJuIHNoaXBGbGVldDtcbn07XG5cbiIsImV4cG9ydCBjb25zdCBnYW1lYm9hcmRGYWN0b3J5ID0gKCkgPT4ge1xuICAvLyBnYW1lYm9hcmQgYXJyYXksIHNoaXAgb2JqZWN0cyB3aWxsIHJlcGxhY2UgY3VycmVudCBncmlkLlxuICAvLyBbMF0gLSBbOV0gZm9yIGEgcm93XG4gIGNvbnN0IGdhbWVib2FyZCA9IFtcbiAgICBcIjFcIixcbiAgICBcIjJcIixcbiAgICBcIjNcIixcbiAgICBcIjRcIixcbiAgICBcIjVcIixcbiAgICBcIjZcIixcbiAgICBcIjdcIixcbiAgICBcIjhcIixcbiAgICBcIjlcIixcbiAgICBcIjEwXCIsXG4gICAgXCIxMVwiLFxuICAgIFwiMTJcIixcbiAgICBcIjEzXCIsXG4gICAgXCIxNFwiLFxuICAgIFwiMTVcIixcbiAgICBcIjE2XCIsXG4gICAgXCIxN1wiLFxuICAgIFwiMThcIixcbiAgICBcIjE5XCIsXG4gICAgXCIyMFwiLFxuICAgIFwiMjFcIixcbiAgICBcIjIyXCIsXG4gICAgXCIyM1wiLFxuICAgIFwiMjRcIixcbiAgICBcIjI1XCIsXG4gICAgXCIyNlwiLFxuICAgIFwiMjdcIixcbiAgICBcIjI4XCIsXG4gICAgXCIyOVwiLFxuICAgIFwiMzBcIixcbiAgICBcIjMxXCIsXG4gICAgXCIzMlwiLFxuICAgIFwiMzNcIixcbiAgICBcIjM0XCIsXG4gICAgXCIzNVwiLFxuICAgIFwiMzZcIixcbiAgICBcIjM3XCIsXG4gICAgXCIzOFwiLFxuICAgIFwiMzlcIixcbiAgICBcIjQwXCIsXG4gICAgXCI0MVwiLFxuICAgIFwiNDJcIixcbiAgICBcIjQzXCIsXG4gICAgXCI0NFwiLFxuICAgIFwiNDVcIixcbiAgICBcIjQ2XCIsXG4gICAgXCI0N1wiLFxuICAgIFwiNDhcIixcbiAgICBcIjQ5XCIsXG4gICAgXCI1MFwiLFxuICAgIFwiNTFcIixcbiAgICBcIjUyXCIsXG4gICAgXCI1M1wiLFxuICAgIFwiNTRcIixcbiAgICBcIjU1XCIsXG4gICAgXCI1NlwiLFxuICAgIFwiNTdcIixcbiAgICBcIjU4XCIsXG4gICAgXCI1OVwiLFxuICAgIFwiNjBcIixcbiAgICBcIjYxXCIsXG4gICAgXCI2MlwiLFxuICAgIFwiNjNcIixcbiAgICBcIjY0XCIsXG4gICAgXCI2NVwiLFxuICAgIFwiNjZcIixcbiAgICBcIjY3XCIsXG4gICAgXCI2OFwiLFxuICAgIFwiNjlcIixcbiAgICBcIjcwXCIsXG4gICAgXCI3MVwiLFxuICAgIFwiNzJcIixcbiAgICBcIjczXCIsXG4gICAgXCI3NFwiLFxuICAgIFwiNzVcIixcbiAgICBcIjc2XCIsXG4gICAgXCI3N1wiLFxuICAgIFwiNzhcIixcbiAgICBcIjc5XCIsXG4gICAgXCI4MFwiLFxuICAgIFwiODFcIixcbiAgICBcIjgyXCIsXG4gICAgXCI4M1wiLFxuICAgIFwiODRcIixcbiAgICBcIjg1XCIsXG4gICAgXCI4NlwiLFxuICAgIFwiODdcIixcbiAgICBcIjg4XCIsXG4gICAgXCI4OVwiLFxuICAgIFwiOTBcIixcbiAgICBcIjkxXCIsXG4gICAgXCI5MlwiLFxuICAgIFwiOTNcIixcbiAgICBcIjk0XCIsXG4gICAgXCI5NVwiLFxuICAgIFwiOTZcIixcbiAgICBcIjk3XCIsXG4gICAgXCI5OFwiLFxuICAgIFwiOTlcIixcbiAgICBcIjEwMFwiLFxuICBdO1xuICBjb25zdCBzaGlwTG9jYXRpb25zID0gW107XG4gIGNvbnN0IG1pc3NlZEF0dGFja3MgPSBbXTtcbiAgY29uc3QgaGl0QXR0YWNrcyA9IFtdO1xuICAvLyBtYWtlIHN1bmtTaGlwcyBhbiBhcnJheS4gVGhpcyB3aWxsIGhhdmUgdGhlIHNoaXAgb2JqZWN0IHRoYXQgd2UgY2FuIHVzZSB0byByZW5kZXIgaW4gdGhlIHN1bmsgc2hpcHMgYXJlYT8gY2FuIGNoZWNrIHZhbHVlIHdpdGggYXJyYXkubGVuZ3RoXG5cbiAgbGV0IHN1bmtTaGlwcyA9IDA7XG5cbiAgZnVuY3Rpb24gcGxhY2VTaGlwKHNoaXAsIHN0YXJ0SW5kZXgsIGRpcmVjdGlvbikge1xuICAgIC8vIHNoaXAgd2lsbCA9IHBsYXllckZsZWV0W2FjdGl2ZVNoaXBzXVxuICAgIC8vIHN0YXJ0SW5kZXggPSBkcm9wIHRhcmdldFxuICAgIC8vIGRpcmVjdGlvbiBpcyBhIGJvb2xlYW4gZm9yIGhvcml6L3ZlcnRcblxuICAgIC8vIGhvcml6b250YWxcbiAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICBpZiAoY2hlY2tQbGFjZVNoaXBWYWxpZEhvcml6KHNoaXAsIHN0YXJ0SW5kZXgpKSB7XG4gICAgICAgIGxldCBpID0gc3RhcnRJbmRleCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKGkgPCArc3RhcnRJbmRleCArIHNoaXAubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIC8vYWRkIGNvb3JkaW5hdGVzIHRvIHNoaXBcbiAgICAgICAgICBzaGlwLmNvb3JkaW5hdGVzLnB1c2goZ2FtZWJvYXJkW2ldKTtcbiAgICAgICAgICBnYW1lYm9hcmRbaV0gPSBcInhcIjtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgc2hpcExvY2F0aW9ucy5wdXNoKHNoaXApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHZlcnRpY2FsXG4gICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgIGlmIChjaGVja1BsYWNlU2hpcFZhbGlkVmVydChzaGlwLCBzdGFydEluZGV4KSkge1xuICAgICAgICBsZXQgaSA9IHN0YXJ0SW5kZXggLSAxO1xuICAgICAgICB3aGlsZSAoaSA8PSArc3RhcnRJbmRleCArIChzaGlwLmxlbmd0aCAtIDEpICogMTApIHtcbiAgICAgICAgICBzaGlwLmNvb3JkaW5hdGVzLnB1c2goZ2FtZWJvYXJkW2ldKTtcbiAgICAgICAgICBnYW1lYm9hcmRbaV0gPSBcInhcIjtcbiAgICAgICAgICBpID0gaSArIDEwO1xuICAgICAgICB9XG4gICAgICAgIHNoaXBMb2NhdGlvbnMucHVzaChzaGlwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvL0NQVSBHYW1lYm9hcmQgc2V0IHVwXG4gIGZ1bmN0aW9uIHBsYWNlQ3B1U2hpcHMoZmxlZXQpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBmbGVldC5sZW5ndGgpIHtcbiAgICAgIC8vcmFuZG9tIGluZGV4IGZyb20gMSAtIDEwMFxuICAgICAgbGV0IHN0YXJ0SW5kZXggPSBcIlwiICsgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAxKTtcbiAgICAgIC8vIHJhbmRvbSBib29sZWFuXG4gICAgICBsZXQgZGlyZWN0aW9uID0gTWF0aC5yYW5kb20oKSA8IDAuNTtcblxuICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICBpZiAoY2hlY2tQbGFjZVNoaXBWYWxpZEhvcml6KGZsZWV0W2ldLCBzdGFydEluZGV4KSkge1xuICAgICAgICAgIGxldCBqID0gc3RhcnRJbmRleCAtIDE7XG5cbiAgICAgICAgICB3aGlsZSAoaiA8ICtzdGFydEluZGV4ICsgZmxlZXRbaV0ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgLy9hZGQgY29vcmRpbmF0ZXMgdG8gc2hpcFxuICAgICAgICAgICAgZmxlZXRbaV0uY29vcmRpbmF0ZXMucHVzaChnYW1lYm9hcmRbal0pO1xuICAgICAgICAgICAgZ2FtZWJvYXJkW2pdID0gXCJ4XCI7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNoaXBMb2NhdGlvbnMucHVzaChmbGVldFtpXSk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkgPSBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWRpcmVjdGlvbikge1xuICAgICAgICBpZiAoY2hlY2tQbGFjZVNoaXBWYWxpZFZlcnQoZmxlZXRbaV0sIHN0YXJ0SW5kZXgpKSB7XG4gICAgICAgICAgbGV0IGogPSBzdGFydEluZGV4IC0gMTtcbiAgICAgICAgICB3aGlsZSAoaiA8PSArc3RhcnRJbmRleCArIChmbGVldFtpXS5sZW5ndGggLSAxKSAqIDEwKSB7XG4gICAgICAgICAgICBmbGVldFtpXS5jb29yZGluYXRlcy5wdXNoKGdhbWVib2FyZFtqXSk7XG4gICAgICAgICAgICBnYW1lYm9hcmRbal0gPSBcInhcIjtcbiAgICAgICAgICAgIGogPSBqICsgMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNoaXBMb2NhdGlvbnMucHVzaChmbGVldFtpXSk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkgPSBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tQbGFjZVNoaXBWYWxpZFZlcnQoc2hpcCwgc3RhcnRJbmRleCkge1xuICAgIGxldCB2YWxpZFBvc2l0aW9uID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgK3N0YXJ0SW5kZXggKyAoc2hpcC5sZW5ndGggLSAxKSAqIDEwIDw9IDEwMCAmJlxuICAgICAgY2hlY2tGcmVlUm93cyhzaGlwLCBzdGFydEluZGV4KVxuICAgICkge1xuICAgICAgdmFsaWRQb3NpdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZFBvc2l0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tQbGFjZVNoaXBWYWxpZEhvcml6KHNoaXAsIHN0YXJ0SW5kZXgpIHtcbiAgICBsZXQgdmFsaWRQb3NpdGlvbiA9IGZhbHNlO1xuXG4gICAgbGV0IGJyZWFrcG9pbnQgPSAxMCAtIChzaGlwLmxlbmd0aCAtIDEpO1xuXG4gICAgaWYgKCtzdGFydEluZGV4IDw9IGJyZWFrcG9pbnQpIHtcbiAgICAgIHZhbGlkUG9zaXRpb24gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoK3N0YXJ0SW5kZXggPiBicmVha3BvaW50ICYmICtzdGFydEluZGV4IDw9IDEwKSB7XG4gICAgICB2YWxpZFBvc2l0aW9uID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChzdGFydEluZGV4LnNsaWNlKDEpID09PSBcIjBcIiB8fCBzdGFydEluZGV4LnNsaWNlKDEpID09PSBcIjAwXCIpIHtcbiAgICAgIHZhbGlkUG9zaXRpb24gPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgc3RhcnRJbmRleC5zbGljZSgxKSA8PSBicmVha3BvaW50ICYmXG4gICAgICBjaGVja0ZyZWVDb2x1bW5zKHNoaXAsIHN0YXJ0SW5kZXgpXG4gICAgKSB7XG4gICAgICB2YWxpZFBvc2l0aW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkUG9zaXRpb247XG4gIH1cblxuICBmdW5jdGlvbiByZWNlaXZlQXR0YWNrKGF0dGFja0Nvb3JkKSB7XG4gICAgaXNIaXQoYXR0YWNrQ29vcmQpO1xuICAgIGlzTWlzcyhhdHRhY2tDb29yZCk7XG4gICAgaWYgKHN1bmtTaGlwcyA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdzaGlwIGhhcyBiZWVuIHN1bmsnKVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhzdW5rU2hpcHMpXG4gICAgaXNHYW1lQ2xlYXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSGl0KGF0dGFja0Nvb3JkKSB7XG4gICAgZm9yIChsZXQgc2hpcCBvZiBzaGlwTG9jYXRpb25zKSB7XG4gICAgICBpZiAoc2hpcC5jb29yZGluYXRlcy5pbmNsdWRlcyhhdHRhY2tDb29yZCkpIHtcbiAgICAgICAgLy8gaWYgaGl0IGFscmVhZHkgcmVnaXN0ZXJlZCwgaWdub3JlXG4gICAgICAgIGlmIChoaXRBdHRhY2tzLmluY2x1ZGVzKGF0dGFja0Nvb3JkKSkgcmV0dXJuO1xuICAgICAgICAvLyBjYWxsIGhpdCBvbiBzaGlwLCBhbmQgYWRkIHRvIGhpdEF0dGFja3MgYXJyYXlcbiAgICAgICAgc2hpcC5oaXQoKTtcbiAgICAgICAgaGl0QXR0YWNrcy5wdXNoKGF0dGFja0Nvb3JkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJoaXRcIik7XG4gICAgICAgIC8vY2hlY2sgaWYgc2hpcCBpcyBzdW5rIGFuZCBhZGQgdG8gc3Vua1NoaXBzIGFycmF5XG4gICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSB7XG4gICAgICAgICAgc3Vua1NoaXBzKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGVuZCBsb29wIGlmIGhpdFxuICAgICAgaWYgKHNoaXAuY29vcmRpbmF0ZXMuaW5jbHVkZXMoYXR0YWNrQ29vcmQpKSBicmVha1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTWlzcyhhdHRhY2tDb29yZCkge1xuICAgIGZvciAobGV0IHNoaXAgb2Ygc2hpcExvY2F0aW9ucykge1xuICAgICAgaWYgKCFzaGlwLmNvb3JkaW5hdGVzLmluY2x1ZGVzKGF0dGFja0Nvb3JkKSkge1xuICAgICAgICBpZiAobWlzc2VkQXR0YWNrcy5pbmNsdWRlcyhhdHRhY2tDb29yZCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEF0dGFja3MuaW5jbHVkZXMoYXR0YWNrQ29vcmQpKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJtaXNzXCIpO1xuICAgICAgICAvLyBhZGQgdG8gbWlzc2VkIGF0dGFjaCBhcnJheVxuICAgICAgICBtaXNzZWRBdHRhY2tzLnB1c2goYXR0YWNrQ29vcmQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNwdUF0dGFja0dlbmVyYXRvcigpIHtcbiAgICBsZXQgY3B1QXR0YWNrID0gXCJcIiArIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMSlcbiAgICBjb25zb2xlLmxvZyhjcHVBdHRhY2spXG4gICAgcmV0dXJuIGNwdUF0dGFja1xuICB9XG5cbiAgZnVuY3Rpb24gaXNHYW1lQ2xlYXIoKSB7XG4gICAgLy8gZG9lcyBub3QgbmVlZCB0byBydW4gdW50aWwgYXQgbGVhc3QgdHVybiAxNlxuICAgIC8vIGlmICh0dXJuTnVtYmVyIDwgMTYpIHJldHVyblxuXG4gICAgLy9tYXkgaGF2ZSB0byBjaGFuZ2UgdG8gcmVmbGVjdCB3aG8gd29uXG4gICAgbGV0IGdhbWVDbGVhciA9IGZhbHNlO1xuICAgIGlmIChzdW5rU2hpcHMgPT09IDEpIHtcbiAgICAgIGdhbWVDbGVhciA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBnYW1lQ2xlYXI7XG4gIH1cblxuICAvLyBbVmVydGljYWwgcGxhY2VtZW50XSBjaGVjayAjIG9mIHJvd3MgYmVsb3cgc3RhcnQgaW5kZXggZm9yIHBsYWNlZCBzaGlwcy4gVGhlc2Ugd2lsbCBoYXZlIGFuICd4JyB3aGVyZSB0aGUgY29vcmRpbmF0ZSBzaG91bGQgYmUuXG4gIGZ1bmN0aW9uIGNoZWNrRnJlZVJvd3Moc2hpcCwgc3RhcnRJbmRleCkge1xuICAgIGxldCBmcmVlUm93cyA9IDA7XG4gICAgbGV0IGkgPSBzdGFydEluZGV4IC0gMTtcbiAgICB3aGlsZSAoaSA8PSArc3RhcnRJbmRleCArIChzaGlwLmxlbmd0aCAtIDEpICogMTApIHtcbiAgICAgIGlmIChnYW1lYm9hcmRbaV0gIT09IFwieFwiKSB7XG4gICAgICAgIGZyZWVSb3dzKys7XG4gICAgICB9XG4gICAgICBpID0gaSArIDEwO1xuICAgIH1cbiAgICByZXR1cm4gc2hpcC5sZW5ndGggPD0gZnJlZVJvd3M7XG4gIH1cblxuICAvLyBbSG9yaXpvbnRhbCBwbGFjZW1lbnRdXG4gIGZ1bmN0aW9uIGNoZWNrRnJlZUNvbHVtbnMoc2hpcCwgc3RhcnRJbmRleCkge1xuICAgIGxldCBmcmVlQ29scyA9IDA7XG4gICAgbGV0IGkgPSBzdGFydEluZGV4IC0gMTtcblxuICAgIHdoaWxlIChpIDwgK3N0YXJ0SW5kZXggKyBzaGlwLmxlbmd0aCAtIDEpIHtcbiAgICAgIGlmIChnYW1lYm9hcmRbaV0gIT09IFwieFwiKSB7XG4gICAgICAgIGZyZWVDb2xzKys7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBzaGlwLmxlbmd0aCA8PSBmcmVlQ29scztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2FtZWJvYXJkLFxuICAgIHBsYWNlU2hpcCxcbiAgICBwbGFjZUNwdVNoaXBzLFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgaXNHYW1lQ2xlYXIsXG4gICAgY3B1QXR0YWNrR2VuZXJhdG9yLFxuICAgIHNoaXBMb2NhdGlvbnMsXG4gICAgbWlzc2VkQXR0YWNrcyxcbiAgICBoaXRBdHRhY2tzLFxuICAgIHN1bmtTaGlwcyxcbiAgfTtcbn07XG4iLCJcbmNvbnN0IHBsYXllckRvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1kb2NrcycpXG5jb25zdCBzaGlwTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaGlwLW5hbWUnKVxuY29uc3QgcGxheWVyR2FtZWJvYXJkR3JpZFdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcGxheWVyLWdhbWVib2FyZF1cIik7XG5jb25zdCBjcHVHYW1lYm9hcmRHcmlkV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jcHUtZ2FtZWJvYXJkXVwiKTtcblxuXG4vLyBjcmVhdGUgMTB4MTAgZ3JpZCBhbmQgYXNzaWduIGVhY2ggZGl2IGEgZGF0YSBhdHRyaWJ1dGUgdG8gYmUgdXNlZCBhcyBhIGNvb3JkaW5hdGVcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckdhbWVib2FyZCh1c2VyR2FtZWJvYXJkKSB7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB1c2VyR2FtZWJvYXJkLmdhbWVib2FyZC5sZW5ndGggLSAxOyBpKysgKSB7XG4gICAgICAgIGxldCBnYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGdhbWVEaXYuZGF0YXNldC5jb29yZGluYXRlID0gdXNlckdhbWVib2FyZC5nYW1lYm9hcmRbaV07XG5cbiAgICAgICAgZ2FtZURpdi5jbGFzc0xpc3QuYWRkKCdnYW1lYm9hcmQtZGl2Jyk7XG4gICAgICAgIGdhbWVEaXYuY2xhc3NMaXN0LmFkZCgncGxheWVyLWdhbWVib2FyZC1kaXYnKTtcbiAgICAgICAgcGxheWVyR2FtZWJvYXJkR3JpZFdyYXBwZXIuYXBwZW5kQ2hpbGQoZ2FtZURpdilcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJDcHVHYW1lYm9hcmQodXNlckdhbWVib2FyZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHVzZXJHYW1lYm9hcmQuZ2FtZWJvYXJkLmxlbmd0aCAtIDE7IGkrKyApIHtcbiAgICAgICAgbGV0IGdhbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZ2FtZURpdi5kYXRhc2V0LmNvb3JkaW5hdGUgPSB1c2VyR2FtZWJvYXJkLmdhbWVib2FyZFtpXTtcblxuICAgICAgICBnYW1lRGl2LmNsYXNzTGlzdC5hZGQoJ2dhbWVib2FyZC1kaXYnKTtcbiAgICAgICAgZ2FtZURpdi5jbGFzc0xpc3QuYWRkKCdjcHUtZ2FtZWJvYXJkLWRpdicpO1xuICAgICAgICBjcHVHYW1lYm9hcmRHcmlkV3JhcHBlci5hcHBlbmRDaGlsZChnYW1lRGl2KVxuICAgIH1cbn1cblxuIGV4cG9ydCBmdW5jdGlvbiByZW5kZXJEb2NrZWRTaGlwKGZsZWV0LCBpbmRleCl7XG4gICAgY2xlYXJEb2NrcygpO1xuICAgIGxldCBzaGlwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ICAgIHNoaXBEaXYuZGF0YXNldC5zaGlwID0gZmxlZXRbaW5kZXhdLm5hbWU7XG4gICAgc2hpcERpdi5kYXRhc2V0Lmxlbmd0aCA9IGZsZWV0W2luZGV4XS5sZW5ndGg7XG4gICAgc2hpcERpdi5jbGFzc0xpc3QuYWRkKCdzaGlwLXdyYXBwZXInKTtcbiAgICBzaGlwRGl2LmNsYXNzTGlzdC5hZGQoJ2RyYWdnYWJsZScpO1xuICAgIHNoaXBEaXYuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmxlZXRbaW5kZXhdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzaGlwU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc2hpcFNwYW4uY2xhc3NMaXN0LmFkZCgnc2hpcC1zcGFuJylcbiAgICAgICAgc2hpcERpdi5hcHBlbmRDaGlsZChzaGlwU3Bhbik7XG4gICAgfVxuICAgIHNoaXBOYW1lLnRleHRDb250ZW50ID0gZmxlZXRbaW5kZXhdLm5hbWU7XG5cbiAgICBwbGF5ZXJEb2Nrcy5hcHBlbmRDaGlsZChzaGlwRGl2KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQWN0aXZlU2hpcHModXNlckdyaWQsIHVzZXJHYW1lYm9hcmQpIHtcbiAgICB1c2VyR3JpZC5mb3JFYWNoKChkaXYpID0+IHtcbiAgICAgICAgdXNlckdhbWVib2FyZC5zaGlwTG9jYXRpb25zLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgICAgIGlmIChzaGlwLmNvb3JkaW5hdGVzLmluY2x1ZGVzKGRpdi5kYXRhc2V0LmNvb3JkaW5hdGUpKSB7XG4gICAgICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1zaGlwJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTWlzc2VkQXR0YWNrcyh1c2VyR3JpZCwgdXNlckdhbWVib2FyZCkge1xuICAgIHVzZXJHcmlkLmZvckVhY2goZGl2ID0+IHtcbiAgICAgICAgaWYgKHVzZXJHYW1lYm9hcmQubWlzc2VkQXR0YWNrcy5pbmNsdWRlcyhkaXYuZGF0YXNldC5jb29yZGluYXRlKSkge1xuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ21pc3NlZC1hdHRhY2snKVxuICAgICAgICAgICAgZGl2LnRleHRDb250ZW50ID0gJy4nXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySGl0QXR0YWNrcyh1c2VyR3JpZCwgdXNlckdhbWVib2FyZCkge1xuICAgIHVzZXJHcmlkLmZvckVhY2goZGl2ID0+IHtcbiAgICAgICAgaWYgKHVzZXJHYW1lYm9hcmQuaGl0QXR0YWNrcy5pbmNsdWRlcyhkaXYuZGF0YXNldC5jb29yZGluYXRlKSkge1xuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2hpdC1hdHRhY2snKVxuICAgICAgICAgICAgZGl2LnRleHRDb250ZW50ID0gJ1gnXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5cblxuXG5mdW5jdGlvbiBjbGVhckRvY2tzKCkge1xuLy8gcmVtb3ZlcyBwcmV2aW91cyBzaGlwIGZyb20gZG9jayAoYWZ0ZXIgYmVpbmcgcGxhY2VkIG9uIGJvYXJkKVxuICAgIHBsYXllckRvY2tzLnJlbW92ZUNoaWxkKHBsYXllckRvY2tzLmxhc3RDaGlsZClcbn1cblxuLy8gbWlzc2VkICYgaGl0IGF0dGFja3Mgbm90IHJlbmRlcmluZyBjb3JyZWN0bHkuXG5cblxuIiwiaW1wb3J0IHsgc2hpcEZhY3RvcnkgfSBmcm9tIFwiLi9zaGlwRmFjdG9yeS5tanNcIjtcbmltcG9ydCB7IGdhbWVib2FyZEZhY3RvcnkgfSBmcm9tIFwiLi9nYW1lYm9hcmRGYWN0b3J5Lm1qc1wiO1xuaW1wb3J0IHsgcmVuZGVyR2FtZWJvYXJkLCByZW5kZXJDcHVHYW1lYm9hcmQsIHJlbmRlckRvY2tlZFNoaXAgfSBmcm9tIFwiLi9kb21GdW5jdGlvbnMubWpzXCI7XG5pbXBvcnQgeyByZW5kZXJBY3RpdmVTaGlwcyB9IGZyb20gXCIuL2RvbUZ1bmN0aW9ucy5tanNcIjtcbmltcG9ydCB7IHJlbmRlckhpdEF0dGFja3MgfSBmcm9tIFwiLi9kb21GdW5jdGlvbnMubWpzXCI7XG5pbXBvcnQgeyByZW5kZXJNaXNzZWRBdHRhY2tzIH0gZnJvbSBcIi4vZG9tRnVuY3Rpb25zLm1qc1wiO1xuXG5jb25zdCByb3RhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucm90YXRlLWJ1dHRvbicpO1xuY29uc3QgcGxheWVyRmxlZXQgPSBzaGlwRmFjdG9yeSgpO1xuY29uc3QgY3B1RmxlZXQgPSBzaGlwRmFjdG9yeSgpO1xuY29uc3QgcGxheWVyR2FtZWJvYXJkID0gZ2FtZWJvYXJkRmFjdG9yeSgpO1xuY29uc3QgY3B1R2FtZWJvYXJkID0gZ2FtZWJvYXJkRmFjdG9yeSgpO1xuXG5sZXQgYWN0aXZlU2hpcHMgPSAwXG5sZXQgaG9yaXpvbnRhbCA9IHRydWVcblxuLy9yZW5kZXIgdXNlcmdyaWRcbnJlbmRlckdhbWVib2FyZChwbGF5ZXJHYW1lYm9hcmQpO1xucmVuZGVyQ3B1R2FtZWJvYXJkKGNwdUdhbWVib2FyZClcbnJlbmRlckRvY2tlZFNoaXAocGxheWVyRmxlZXQsIGFjdGl2ZVNoaXBzLCBob3Jpem9udGFsKTtcbi8vZGVmaW5lIHVzZXIgZ3JpZCB0byBiZSB1c2VkIGluIHJlbmRlckFjdGl2ZVNoaXBzKClcbmNvbnN0IHBsYXllckdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheWVyLWdhbWVib2FyZC1kaXYnKVxuY29uc3QgY3B1R3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jcHUtZ2FtZWJvYXJkLWRpdicpXG5jb25zdCBkcmFnZ2FibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kcmFnZ2FibGVcIik7XG5cbnJvdGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgZG9ja2VkU2hpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaGlwLXdyYXBwZXInKVxuICByb3RhdGVTaGlwKGRvY2tlZFNoaXApXG59KVxuXG4vLyBQUkUgR0FNRSBTRVQgVVBcbi8vZHJhZyBldmVudCBsaXN0ZW5lcnNcbmRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsICgpID0+IHtcbiAgICBkcmFnZ2FibGUuY2xhc3NMaXN0LmFkZChcImRyYWdnaW5nXCIpO1xuICB9KTtcblxuICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgKCkgPT4ge1xuICAgIGRyYWdnYWJsZS5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIik7XG4gIH0pO1xufSk7XG5cbi8vZHJvcFxucGxheWVyR3JpZC5mb3JFYWNoKChib3gpID0+IHtcbiAgYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiZ3JpZC1ob3ZlclwiKTtcbiAgfSk7XG4gIGJveC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJncmlkLWhvdmVyXCIpO1xuICB9KTtcbiAgYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJncmlkLWhvdmVyXCIpO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBlLnRhcmdldC5kYXRhc2V0LmNvb3JkaW5hdGU7XG4gICAgXG4gICAgcGxheWVyR2FtZWJvYXJkLnBsYWNlU2hpcChwbGF5ZXJGbGVldFthY3RpdmVTaGlwc10sIHN0YXJ0SW5kZXgsIGhvcml6b250YWwgKVxuICAgIHJlbmRlckFjdGl2ZVNoaXBzKHBsYXllckdyaWQsIHBsYXllckdhbWVib2FyZClcblxuICAgIC8vIGNoZWNrcyBpZiBwbGFjZVNoaXAgd2FzIHZhbGlkIGJlZm9yZSBpbmNyZWFzaW5nIGFjdGl2ZSBzaGlwIHZhcmlhYmxlLiBUaGlzIGVuc3VyZXMgdGhlIHBsYXllciB3aWxsIGJlIGFibGUgdG8gcGxhY2UgdGhlIGludmFsaWQgc2hpcCBhZ2Fpbi5cbiAgICBpZiAocGxheWVyR2FtZWJvYXJkLnNoaXBMb2NhdGlvbnMubGVuZ3RoID4gYWN0aXZlU2hpcHMpIHtcbiAgICAgIGFjdGl2ZVNoaXBzKytcbiAgICB9XG4gICAgXG4gICAgaWYgKGFjdGl2ZVNoaXBzIDw9IDQpIHtcbiAgICBob3Jpem9udGFsID0gdHJ1ZVxuICAgIHJlbmRlckRvY2tlZFNoaXAocGxheWVyRmxlZXQsIGFjdGl2ZVNoaXBzKVxuICAgIH1cblxuICAgIGlmIChhY3RpdmVTaGlwcyA9PT0gNSkge1xuICAgIGNwdUdhbWVib2FyZC5wbGFjZUNwdVNoaXBzKGNwdUZsZWV0KVxuICAgIGNvbnNvbGUubG9nKGNwdUdhbWVib2FyZClcbiAgICBzdGFydEdhbWUoKTtcbiAgICB9XG5cbiAgfSk7XG59KTtcblxuXG4vL0dBTUUgU1RBUlRcbi8vIGV2ZW50IGxpc3RuZXIgb24gQ1BVJ3MgYm9hcmQgdG8gd2FpdCBmb3IgcGxheWVycyBmaXJzdCBhdHRhY2suIFxuXG5jcHVHcmlkLmZvckVhY2goZGl2ID0+IHtcbiAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBsZXQgYXR0YWNrQ29vcmRpbmF0ZSA9IGUudGFyZ2V0LmRhdGFzZXQuY29vcmRpbmF0ZVxuICBcbiAgICAvL3RyaWdnZXIgYXR0YWNoIG9uIGdhbWUgYm9hcmRcbiAgICBjcHVHYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhhdHRhY2tDb29yZGluYXRlKVxuICAgIGNvbnNvbGUubG9nKGNwdUdhbWVib2FyZClcbiAgICBwbGF5ZXJHYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhwbGF5ZXJHYW1lYm9hcmQuY3B1QXR0YWNrR2VuZXJhdG9yKCkpXG4gICAgY29uc29sZS5sb2cocGxheWVyR2FtZWJvYXJkKVxuICBcbiAgICAvLyByZW5kZXIgQXR0YWNrICYgTWlzc1xuICAgIHJlbmRlckFsbEF0dGFja3MoKVxufSlcbn0pXG5cblxuXG5mdW5jdGlvbiByb3RhdGVTaGlwKHNoaXApIHtcbiAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgIHNoaXAuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nICBcbiAgICAgIGhvcml6b250YWwgPSBmYWxzZVxuICB9IGVsc2Uge1xuICAgICAgc2hpcC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3JvdydcbiAgICAgIGhvcml6b250YWwgPSB0cnVlXG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdGFydEdhbWUoKSB7XG4gIC8vIHJlbW92ZSBwbGF5ZXIgZG9ja3NcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1kb2NrcycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIC8vIG1ha2UgY3B1IGdhbWVib2FyZEdyaWQgdmlzaWJsZVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY3B1LWdhbWVib2FyZF1cIikuc3R5bGUuZGlzcGxheSA9ICdncmlkJ1xufVxuXG5mdW5jdGlvbiByZW5kZXJBbGxBdHRhY2tzKCkge1xuICByZW5kZXJIaXRBdHRhY2tzKHBsYXllckdyaWQsIHBsYXllckdhbWVib2FyZClcbiAgcmVuZGVySGl0QXR0YWNrcyhjcHVHcmlkLCBjcHVHYW1lYm9hcmQpXG4gIHJlbmRlck1pc3NlZEF0dGFja3MoY3B1R3JpZCwgY3B1R2FtZWJvYXJkKVxuICByZW5kZXJNaXNzZWRBdHRhY2tzKHBsYXllckdyaWQsIHBsYXllckdhbWVib2FyZClcbn1cbiJdLCJuYW1lcyI6WyJzaGlwRmFjdG9yeSIsImlkIiwibmFtZSIsImxlbmd0aCIsImhpdFBvaW50cyIsImNvb3JkaW5hdGVzIiwiaGl0IiwidGhpcyIsImlzU3VuayIsImdhbWVib2FyZEZhY3RvcnkiLCJnYW1lYm9hcmQiLCJzaGlwTG9jYXRpb25zIiwibWlzc2VkQXR0YWNrcyIsImhpdEF0dGFja3MiLCJzdW5rU2hpcHMiLCJjaGVja1BsYWNlU2hpcFZhbGlkVmVydCIsInNoaXAiLCJzdGFydEluZGV4IiwidmFsaWRQb3NpdGlvbiIsImZyZWVSb3dzIiwiaSIsImNoZWNrRnJlZVJvd3MiLCJjaGVja1BsYWNlU2hpcFZhbGlkSG9yaXoiLCJicmVha3BvaW50Iiwic2xpY2UiLCJmcmVlQ29scyIsImNoZWNrRnJlZUNvbHVtbnMiLCJpc0dhbWVDbGVhciIsImdhbWVDbGVhciIsInBsYWNlU2hpcCIsImRpcmVjdGlvbiIsInB1c2giLCJwbGFjZUNwdVNoaXBzIiwiZmxlZXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJqIiwicmVjZWl2ZUF0dGFjayIsImF0dGFja0Nvb3JkIiwiaW5jbHVkZXMiLCJjb25zb2xlIiwibG9nIiwiaXNIaXQiLCJpc01pc3MiLCJjcHVBdHRhY2tHZW5lcmF0b3IiLCJjcHVBdHRhY2siLCJwbGF5ZXJEb2NrcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNoaXBOYW1lIiwicGxheWVyR2FtZWJvYXJkR3JpZFdyYXBwZXIiLCJjcHVHYW1lYm9hcmRHcmlkV3JhcHBlciIsInJlbmRlckRvY2tlZFNoaXAiLCJpbmRleCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwic2hpcERpdiIsImNyZWF0ZUVsZW1lbnQiLCJkYXRhc2V0IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwic2hpcFNwYW4iLCJhcHBlbmRDaGlsZCIsInRleHRDb250ZW50IiwicmVuZGVyTWlzc2VkQXR0YWNrcyIsInVzZXJHcmlkIiwidXNlckdhbWVib2FyZCIsImZvckVhY2giLCJkaXYiLCJjb29yZGluYXRlIiwicmVuZGVySGl0QXR0YWNrcyIsInJvdGF0ZUJ1dHRvbiIsInBsYXllckZsZWV0IiwiY3B1RmxlZXQiLCJwbGF5ZXJHYW1lYm9hcmQiLCJjcHVHYW1lYm9hcmQiLCJhY3RpdmVTaGlwcyIsImhvcml6b250YWwiLCJnYW1lRGl2IiwicmVuZGVyR2FtZWJvYXJkIiwicmVuZGVyQ3B1R2FtZWJvYXJkIiwicGxheWVyR3JpZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjcHVHcmlkIiwiZHJhZ2dhYmxlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImZsZXhEaXJlY3Rpb24iLCJkcmFnZ2FibGUiLCJyZW1vdmUiLCJib3giLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJkaXNwbGF5IiwiYXR0YWNrQ29vcmRpbmF0ZSJdLCJzb3VyY2VSb290IjoiIn0=